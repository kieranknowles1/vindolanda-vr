\documentclass[12pt, a4paper]{report}

\usepackage{tabularx} % Multi-line cells
\usepackage{xltabular} % Multi-page tables
\usepackage{booktabs} % Fancy looking tables

\usepackage{parskip} % Replace tab on new paragraph with extra y-spacing

\usepackage{biblatex} % Citations
\addbibresource{vindolandra.bib}

% TODO: Remove once no longer needed
\usepackage{todo}

\usepackage{hyperref} % Automatic hyperlinks

% Multiline left-aligned column
\newcolumntype{L}{>{\raggedright\arraybackslash}X}

\title{Vindolanda VR}
\author{Kieran John Knowles}
\date{2025}

\begin{document}
\maketitle

\chapter*{Abstract}
\todo{Abstract}

\chapter*{Acknowledgments}
\todo{Acknowledgments}

\tableofcontents
\listoftables
\listoffigures

\todo{Use roman numeral page numbers for preliminary pages}

\chapter{Introduction}
\todo{Introduction}

\chapter{Background Research}
\todo{Background Research}

\section{Historical Research}
\todo{Historical Research}

\subsection{Site Visits}
\todo{Site Visits}

\subsubsection{Vindolandra}
\todo{Vindolandra visit}

\subsubsection{Hancock Museum}
\todo{Hancock Museum visit}

\subsection{Literature}
\todo{Literature}

\subsection{A Day in The Life}
\todo{A Day in The Life at Vinolandra}

\section{Technical Research}
\todo{Technical Research}

\subsection{Which Engine?}
\todo{Which Engine}

Multiple engines were considered, each with their own benefits
and drawbacks as summarised in Table \ref{table:engine_compare}

Virtual reality is a significantly more demanding environment than other games.
While 1080p at 60Hz is a common target for flat screens, VR games must render
two screens at 90-120Hz each, with users often upscaling for enhanced clarity.
Consequently, performance is a crucial requirement for any VR game.

Given the short deadline of the project, industry adoption was also a major
consideration based on the assumption that a more widely adopted engine would
have more resources available to reduce development time. The total number of
games tagged as VR, detected as using a specific engine by SteamDB, and released
in the past 2 years (to include current trends) were used to determine adoption.
This methodology has its limitations: by only using SteamDB as a source,
non-steam releases such as itch.io and the Meta Store are excluded.
Additionally, SteamDB's engine detection can produce false negatives, for
example, Godot games can be packaged as a single executable which will not
be detected.
\todo{Explain why limitations are acceptable}
\todo{Figure for false negative of Godot. Doesn't need to be a VR game}
\todo{Add to table and cite}

\begin{table}
  \caption{The advantages and disadvantages of the considered engines}
  \label{table:engine_compare}
  \begin{tabularx}{\textwidth}{cLLL}\toprule
    Feature & Unreal & Unity & Godot \\\midrule

    Language & C\# & Blueprints, C++ & GDScript, C++, C\#, etc. \\
    VR Support & De facto standard & Yes, performance could be a
    concern & Yes \\
    Version Control & Git, text & Perforce, binary & Git, text \\
    Linux Support & Yes & Editor unreliable & Yes \\

    \bottomrule
  \end{tabularx}
\end{table}

\subsection{Reference Material}
\todo{Which other games were referenced as inspiration?}

\subsubsection{Virtual Reality}
\todo{VR inspiration. Mostly in how certain mechanics are implemented}

\todo{Handling VR: Locomotion}
\todo{Handling VR: Text}

\subsubsection{Other Games}
\todo{Other games, focus on visual inspiration}

\chapter{Implementation}
\todo{Implementation}

\todo
{When to set it? Probably AD122, year of Hadrian's visit. Which section should
this be in}

\section{Requirement Analysis}
\todo{Requirement Analysis}

Tables \ref{table:fr} and \ref{table:nfr} contain lists of functional and
non-functional requirements respectively with priorities assigned using the
MoSCoW method (Must-have, Should-have, Could-have, and Won't-have).

\newcommand{\header}{\toprule{}ID & Name & Priority & Description \\\midrule}
\newcounter{reqindex}
\newcommand{\reqtype}{FR}
\newcommand{\requirement}[3]
{\reqtype\stepcounter{reqindex}\arabic{reqindex} & #1 & #2 & #3 \\}

\todo{Functional requirements}
\begin{xltabular}{\textwidth}{cccL}
  \caption{\label{table:fr}Functional requirements}\\
  \header\endfirsthead
  \header\endhead

  \bottomrule
\end{xltabular}

\todo{Non functional requirements}
\renewcommand{\reqtype}{NFR}\setcounter{reqindex}{0}
\begin{xltabular}{\textwidth}{cccL}
  \caption{\label{table:nfr}Non-functional requirements}\\
  \header\endfirsthead
  \header\endhead

  \requirement{Performance}{Must have}
  {The game \textbf{must} maintain 90FPS during typical gameplay}
  \requirement{Linux Support}{Could have}
  {The game \textbf{could} include native Linux support}

  \bottomrule
\end{xltabular}

\nocite{*}\printbibliography
\todo{Should this be split into cited/uncited?}
\todo{Should annotations be included?}

\todos
\end{document}
